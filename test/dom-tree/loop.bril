# RUN: cat %s | bril2json | make-dom-tree -dom    | filecheck %s --check-prefix=DOM
# RUN: cat %s | bril2json | make-dom-tree -idom   | filecheck %s --check-prefix=IDOM
# RUN: cat %s | bril2json | make-dom-tree -dfront | filecheck %s --check-prefix=DFRONT

# DOM: entry: entry
# DOM-NEXT: loop: entry, loop
# DOM-NEXT: body: entry, loop, body
# DOM-NEXT: exit: entry, loop, exit

# IDOM: entry -> (NULL)
# IDOM-NEXT: loop -> entry
# IDOM-NEXT: body -> loop
# IDOM-NEXT: exit -> loop

# DFRONT: entry: {}
# DFRONT-NEXT: loop: {loop}
# DFRONT-NEXT: body: {loop}
# DFRONT-NEXT: exit: {}
@main {
.entry:
  x: int = const 0;
  y: int = const 0;

.loop:
  ten: int = const 10;
  cond: bool = lt x ten;
  br cond .body .exit;

.body:
  y: int = add y x;
  one: int = const 1;
  x: int = add x one;
  jmp .loop;

.exit:
  print y;
}
