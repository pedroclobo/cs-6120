# RUN: cat %s | bril2json | to-ssa-opt | bril2txt | filecheck %s

# CHECK: @main {
# CHECK-NEXT:   x: int = const 0;
# CHECK-NEXT:   y: int = const 0;
# CHECK-NEXT: .loop:
# CHECK-NEXT:   y.1: int = phi y y.2 .entry .body;
# CHECK-NEXT:   x.1: int = phi x x.2 .entry .body;
# CHECK-NEXT:   ten.1: int = const 10;
# CHECK-NEXT:   cond.1: bool = lt x.1 ten.1;
# CHECK-NEXT:   br cond.1 .body .exit;
# CHECK-NEXT: .body:
# CHECK-NEXT:   y.2: int = add y.1 x.1;
# CHECK-NEXT:   one.1: int = const 1;
# CHECK-NEXT:   x.2: int = add x.1 one.1;
# CHECK-NEXT:   jmp .loop;
# CHECK-NEXT: .exit:
# CHECK-NEXT:   print y.1;
# CHECK-NEXT: }
@main {
  x: int = const 0;
  y: int = const 0;

.loop:
  ten: int = const 10;
  cond: bool = lt x ten;
  br cond .body .exit;

.body:
  y: int = add y x;
  one: int = const 1;
  x: int = add x one;
  jmp .loop;

.exit:
  print y;
}
